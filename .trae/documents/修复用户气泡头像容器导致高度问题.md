## 问题分析

我发现关键问题：

1. `avatar_container` 没有设置大小策略
2. `avatar_layout.addStretch()` 会让头像容器在垂直方向上伸展
3. 虽然 `main_layout` 设置了 `Qt.AlignTop`，但 `avatar_container` 默认可能扩展

对比 Agent 和 User：
- Agent：`avatar_container` 先添加，然后是 `content_col`
- User：`content_wrapper` 先添加，然后是 `avatar_container`

顺序不同可能导致布局计算差异。

## 解决方案

为 `avatar_container` 设置固定大小策略，防止它扩展：
```python
avatar_container.setFixedSize(40, 40)  # 或者设置大小策略
```

或者设置 `avatar_container` 的大小策略为 `Fixed` 或 `Maximum`。

## 修改内容

为 User 气泡的 `avatar_container` 设置固定大小或大小策略。